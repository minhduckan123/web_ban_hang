import mysql.connector
import random
mydb = mysql.connector.connect(
  host="localhost",
  user="minhduckan312",  # Thay thế bằng tên người dùng MySQL của bạn
  password="minhduckan312",  # Thay thế bằng mật khẩu MySQL của bạn
  database="bookstores"  # Thay thế bằng tên cơ sở dữ liệu bạn muốn sử dụng
)

mycursor = mydb.cursor()
try:
  mycursor.execute("DROP TABLE book_categories")
  mycursor.execute("DROP TABLE bookadd_user")
  mycursor.execute("DROP TABLE booksold_user")
  mycursor.execute("DROP TABLE queries")
  mycursor.execute("DROP TABLE users")
  mycursor.execute("DROP TABLE category")
  mycursor.execute("DROP TABLE books")
finally:
  mycursor.execute("CREATE TABLE books (book_id INT AUTO_INCREMENT PRIMARY KEY, image VARCHAR(255), title VARCHAR(255), author VARCHAR(255), price DECIMAL(10, 2), subjects VARCHAR(255), sold INT DEFAULT 0, added INT DEFAULT 0, quantity INT)")
  mycursor.execute("CREATE TABLE category (category_id INT AUTO_INCREMENT PRIMARY KEY, category_name VARCHAR(255))")
  mycursor.execute("CREATE TABLE users (user_id INT AUTO_INCREMENT PRIMARY KEY, name VARCHAR(255) UNIQUE, email VARCHAR(255) UNIQUE, password VARCHAR(255), budget DECIMAL(10,2))")
  mycursor.execute("CREATE TABLE book_categories (book_id INT, category_id INT, FOREIGN KEY (book_id) REFERENCES books(book_id), FOREIGN KEY (category_id) REFERENCES category(category_id))")
  mycursor.execute("CREATE TABLE bookadd_user (book_id INT, user_id INT, quantity INT DEFAULT 0, FOREIGN KEY (book_id) REFERENCES books(book_id), FOREIGN KEY (user_id) REFERENCES users(user_id))")
  mycursor.execute("CREATE TABLE booksold_user (book_id INT, user_id INT, quantity INT DEFAULT 0, FOREIGN KEY (book_id) REFERENCES books(book_id), FOREIGN KEY (user_id) REFERENCES users(user_id))")
  mycursor.execute("CREATE TABLE queries (id INT AUTO_INCREMENT PRIMARY KEY, name VARCHAR(255))")

mycursor.execute('INSERT INTO queries (id, name) VALUES (1, "The")')

sql = "INSERT INTO category (category_id, category_name) VALUES (%s, %s)"
val = [(1, 'Architecture'), (2, 'Art Instruction'), (3, 'Art History'), (4, 'Programming'), (5, 'Horror'), (6, 'Humor'), (7, 'Literature'), (8, 'Magic'), (9, 'Mystery and detective stories'), (10, 'Management'), (11, 'Entrepreneurship'), (12, 'Business Economics'), (13, 'Women'), (14, 'Kings and Rulers'), (15, 'Cookbooks'), (16, 'Religion')]
mycursor.executemany(sql, val)
sql = "INSERT INTO books (book_id, image, title, author, price, subjects, sold, added, quantity) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s)"
val = [(1, 'https:////covers.openlibrary.org/b/id/9575594-M.jpg', 'The posthumous memoirs of Brás Cubas', 'Machado de Assis', '9.90', '"New translation of Machado\'s famous novel is for the most part faithful and readable. However, work has occasional odd errors and omissions, and fails to give sufficient attention to Machado\'s rhythm and syntax. Given Rabassa\'s vast experience as a trans', 0, 0, 0), (2, 'https://covers.openlibrary.org/b/id/12156182-L.jpg', 'Leonardo.', 'Leonardo da Vinci', '12.00', "This edition doesn't have a description yet.", 0, 0, 2), (3, 'https://covers.openlibrary.org/b/id/10284195-L.jpg', 'Official congressional directory, 2013-2014', 'United States, United States Government Printing Office', '8.99', 'Book digitized by Google from the library of the University of Michigan and uploaded to the Internet Archive by user tpb.', 1, 0, 26), (4, 'https://covers.openlibrary.org/b/id/13321295-L.jpg', 'Picasso', 'Pablo Picasso, Jean-Louis Andral và Pierre Daix', '8.97', "This edition doesn't have a description yet.", 0, 0, 36), (5, 'https://covers.openlibrary.org/b/id/2241043-L.jpg', 'Marc Chagall', 'Marc Chagall, Evgenija Petrova và Aleksandra Shatskikh', '12.60', "This edition doesn't have a description yet.", 0, 0, 12), (6, 'https://covers.openlibrary.org/b/id/552331-L.jpg', 'Rembrandt', 'Rembrandt Harmenszoon van Rijn', '6.67', "This edition doesn't have a description yet.", 4, 0, 11), (7, 'https://covers.openlibrary.org/b/id/8519248-L.jpg', 'Andy Warhol', 'Andy Warhol', '7.99', "This edition doesn't have a description yet.", 0, 0, 19), (8, 'https://covers.openlibrary.org/b/id/12697257-L.jpg', 'Sean Scully', 'Sean Scully', '11.60', "This edition doesn't have a description yet.", 0, 0, 11), (9, 'https://covers.openlibrary.org/b/id/4451243-L.jpg', 'Joseph Cornell', 'Joseph Cornell', '10.67', "This edition doesn't have a description yet.", 0, 0, 35), (10, 'https://covers.openlibrary.org/b/id/10557818-L.jpg', 'Le langage C', 'Brian W. Kernighan, Dennis MacAlistair Ritchie, B. W. Kernighan, Ritchie Kernighan, Kernighan, Ritchie và Dennis M. Ritchi', '14.99', 'Very well known, classic introduction to the C Programming Language. Both a text for learning, a reference, and, to some, the definition of proper C language features and use.', 0, 0, 31), (11, 'https://covers.openlibrary.org/b/id/13167358-L.jpg', 'Game Ai Pro 360', 'Steve Rabin', '15.00', "This edition doesn't have a description yet.", 0, 0, 15), (12, 'https://covers.openlibrary.org/b/id/7815442-L.jpg', 'Android Fully Loaded', 'Rob Huddleston', '16.67', "This edition doesn't have a description yet.", 0, 0, 3), (13, 'https://covers.openlibrary.org/b/id/1256520-L.jpg', 'The strange case of Dr. Jekyll and Mr. Hyde', 'Robert Louis Stevenson', '7.99', 'Set in the backdrop later Victorian London, this book can be told as belonging to the category of science fiction, psychological thriller and suspense thriller. Dr Jekyll, a famous and notable scientist seems to be somehow linked with Mr Hyde, a most-want', 0, 0, 28), (14, 'https://covers.openlibrary.org/b/id/6385155-L.jpg', 'Brood of the Witch-queen', 'Sax Rohmer', '8.99', 'The strange deeds of Antony Ferrara, as herein related, are intended to illustrate certain phases of Sorcery as it was formerly practised (according to numerous records) not only in Ancient Egypt but also in Europe during the Middle Ages. In no case do th', 0, 0, 39), (15, 'https://covers.openlibrary.org/b/id/238235-L.jpg', 'The Shining', 'Stephen King', '10.67', "The Shining is a 1977 horror novel by American author Stephen King. It is King's third published novel and first hardback bestseller; its success firmly established King as a preeminent author in the horror genre. The setting and characters are influenced", 0, 0, 34), (16, 'https://covers.openlibrary.org/b/id/6501297-L.jpg', 'The first part of the delightful history of the most ingenious knight Don Quixote of the Mancha', 'Miguel de Cervantes Saavedra', '7.99', 'Although published nearly 400 years ago in Spanish, this parody of the chivalrous life remains amazingly familiar in translation today-perhaps from the extensive influence it has played on novelists, playwrights and even composers over the centuries, or p', 0, 0, 25), (17, 'https://covers.openlibrary.org/b/id/13617726-L.jpg', "Alice's adventures in wonderland & Through the looking glass", 'Lewis Carroll', '16.99', 'A very real little girl named Alice follows a remarkable rabbit down a rabbit hole and steps through a looking-glass to come face to face with some of the strangest adventures and some of the oddest characters in all literature. The crusty Duchess, the Ma', 0, 0, 12), (18, 'https://covers.openlibrary.org/b/id/12848844-L.jpg', 'James and the Giant Peach', 'Roald Dahl', '12.67', "When James accidentally drops some magic crystals by the old peach tree, strange things start to happen. The peach at the top of the tree begins to grow, and before long it's as big as a house. When James discovers a secret entrance-way into the fruit and", 0, 0, 3), (19, 'https://covers.openlibrary.org/b/id/12819044-L.jpg', 'Treasure Island', 'Robert Louis Stevenson', '9.99', "Traditionally considered a coming-of-age story, Treasure Island is an adventure tale known for its atmosphere, characters and action, and also as a wry commentary on the ambiguity of morality — as seen in Long John Silver — unusual for children's literatu", 0, 0, 22), (20, 'https://covers.openlibrary.org/b/id/9281234-L.jpg', 'Oliver Twist', 'Charles Dickens', '12.99', "ONE OF THE MOST SWIFTLY MOVING AND unified of Charles Dickens's great novels, Oliver Twist is also famous for its re-creation—through the splendidly realized figures of Fagin, Nancy, the Artful Dodger, and the evil Bill Sikes— of the vast London underworl", 0, 0, 1), (21, 'https://covers.openlibrary.org/b/id/1167428-L.jpg', 'Heart of darkness', 'Joseph Conrad', '10.50', "Heart of Darkness (1899) is a novella by Polish-English novelist Joseph Conrad, about a voyage up the Congo River into the Congo Free State, in the heart of Africa, by the story's narrator Charles Marlow. Marlow tells his story to friends aboard a boat an", 0, 0, 5), (22, 'https://covers.openlibrary.org/b/id/12622431-L.jpg', "Harry Potter and the Philosopher's Stone", 'J. K. Rowling', '20.99', 'When mysterious letters start arriving on his doorstep, Harry Potter has never heard of Hogwarts School of Witchcraft and Wizardry. They are swiftly confiscated by his aunt and uncle.Then, on Harry’s eleventh birthday, a strange man bursts in with some im', 0, 0, 20), (23, 'https://covers.openlibrary.org/b/id/12512875-L.jpg', 'The Return of the King', 'J.R.R. Tolkien', '22.99', "The third part of J.R.R. Tolkien's epic adventure The Lord of The Rings.", 0, 0, 20), (24, 'https://covers.openlibrary.org/b/id/10785198-L.jpg', 'The marvellous Land of Oz', 'L. Frank Baum, Thomas Langois, JOHN. R NEILL và Alexa RACHAEL', '16.97', 'Tip and his creation, Jack Pumpkin, run away to Oz, where they save the city after it is captured by girls.', 0, 0, 11), (25, 'https://covers.openlibrary.org/b/id/13379291-L.jpg', 'The return of Sherlock Holmes', 'Arthur Conan Doyle', '10.99', "The Return of Sherlock Holmes is a 1905 collection of 13 Sherlock Holmes stories, originally published in 1903–1904, by Arthur Conan Doyle. The stories were published in the Strand Magazine in Britain and Collier's in the United States.", 0, 0, 15), (26, 'https://covers.openlibrary.org/b/id/10064091-L.jpg', 'The Moonstone', 'Wilkie Collins', '8.99', 'One of the first English detective novels, this mystery involves the disappearance of a valuable diamond, originally stolen from a Hindu idol, given to a young woman on her eighteenth birthday, and then stolen again. A classic of 19th-century literature.', 0, 0, 24), (27, 'https://covers.openlibrary.org/b/id/13260186-L.jpg', 'Morgenrood', 'Stephenie Meyer', '14.97', 'Eindelijk gaan Bella (ik-figuur) en Edward, een vampier, trouwen. Bella raakt al snel zwanger. Een heel moeilijke zwangerschap volgt. De enige manier om moeder en kind te redden, is om van Bella een vampier te maken. Vanaf ca. 15 jaar.', 0, 1, 7), (28, 'https://covers.openlibrary.org/b/id/11348446-L.jpg', 'The power of Positive thinking', 'Napoleon Hill', '4.99', "Written during the Great Depression, against a backdrop of millions of people out of work and a looming world war, Napoleon Hill's magnum opus held out hope that life could get better. While not considered part of the New Thought movement, Hill drew on ma", 0, 0, 34), (29, 'https://covers.openlibrary.org/b/id/9195831-L.jpg', 'The 7 Habits of Highly Effective People', 'Stephen R. Covey và Sean Covey', '15.99', 'Ben shu jing xuan ke wei bo shi"qi ge xi guan"de zui he xin si xiang he fang fa, Wei mang liu ren shi dai lai chao jia zhi de zi wo ti sheng ti yan. Yong zui shao de shi jian, Can tou gao xiao neng ren shi de chi xu cheng gong zhi lu.', 0, 0, 32), (30, 'https://covers.openlibrary.org/b/id/9305223-L.jpg', 'The Art of War', 'Sun Tzu', '20.97', "The original and bestselling leadership book!. Sun Tzu's ideas on survival and success have been read across the world for centuries. Today they can still be applied to business, politics and life. The Art of War demonstrates how to win without conflict. ", 0, 0, 23), (31, 'https://covers.openlibrary.org/b/id/8272777-L.jpg', 'Me Before You', 'Jojo Moyes và Various', '10.99', "Lou Clark knows lots of things. She knows how many footsteps there are between the bus stop and home. She knows she likes working in The Buttered Bun tea shop and she knows she might not love her boyfriend Patrick. What Lou doesn't know is she's about to ", 0, 0, 34), (32, 'https://covers.openlibrary.org/b/id/6602782-L.jpg', 'In search of excellence', 'Thomas J. Peters', '16.99', "This edition doesn't have a description yet.", 0, 0, 15), (33, 'https://covers.openlibrary.org/b/id/10768219-L.jpg', 'Entrepreneurship', 'Bruce R. Barringer, R. Duane Ireland, Bruce Barringer và Duane Ireland', '10.97', "This edition doesn't have a description yet.", 0, 0, 12), (34, 'https://covers.openlibrary.org/b/id/12996599-L.jpg', 'How to Win Friends and Influence People', 'Dale Carnegie', '6.99', 'Humans are relational beings. This is the best self-improvement book to know how to create meaningful and fruitful relationships.', 0, 0, 36), (35, 'https://covers.openlibrary.org/b/id/12178173-L.jpg', 'Steve Jobs', 'Walter Isaacson', '8.99', 'From the author of the bestselling biographies of Benjamin Franklin and Albert Einstein, this is the exclusive biography of Steve Jobs. Based on more than forty interviews with Jobs conducted over two years--as well as interviews with more than a hundred ', 0, 0, 31), (36, 'https://covers.openlibrary.org/b/id/10560103-L.jpg', 'The affluent society', 'John Kenneth Galbraith', '9.97', "This edition doesn't have a description yet.", 0, 0, 22), (37, 'https://covers.openlibrary.org/b/id/5760460-L.jpg', "Goethe's Werke", 'Johann Wolfgang von Goethe', '9.99', "This edition doesn't have a description yet.", 0, 0, 40), (38, 'https://covers.openlibrary.org/b/id/6641954-L.jpg', 'Pablo Picasso.', 'William S. Lieberman', '10.99', "Text describes several works from Picasso's Blue and Rose periods. Ten color plates, including one on the front cover, are included.", 0, 0, 0), (39, 'https://covers.openlibrary.org/b/id/12191995-L.jpg', 'Living my life', 'Emma Goldman', '8.97', "This edition doesn't have a description yet.", 0, 0, 9), (40, 'https://covers.openlibrary.org/b/id/7326381-L.jpg', 'Rasselas, prince of Abyssinia', 'Samuel Johnson LL.D., Warren L. Fleischauer, Félix Paknadel, Octavie Belot, James MacAulay và Samuel Johnson', '9.99', 'This short novel is a satire on the philosophical stories popular at the time, such as Voltaire’s Candide. A young man is accompanied on his travels by an older wiser teacher, who explains various situations they encounter in terms of happiness or otherwi', 0, 0, 27), (41, 'https://covers.openlibrary.org/b/id/8203503-L.jpg', 'King Henry V', 'William Shakespeare', '10.99', "Text describes several works from Picasso's Blue and Rose periods. Ten color plates, including one on the front cover, are included.", 0, 0, 13), (42, 'https://covers.openlibrary.org/b/id/7194896-L.jpg', 'History of Queen Elizabeth.', 'Jacob Abbott', '14.97', 'A biography of Queen Elizabeth I, who, without husband or sons, successfully ruled England for 45 years and made it the most powerful kingdom on the globe.', 0, 0, 21), (43, 'https://covers.openlibrary.org/b/id/11428139-M.jpg', 'American cookery', 'Amelia Simmons', '9.99', 'This is a significant publication, being the first cookbook written by an American, and also published in the United States. It used foods native to America, and terms in use by early Americans. It was widely copied and plagiarized in its day, a common pr', 0, 0, 20), (44, 'https://covers.openlibrary.org/b/id/522576-M.jpg', 'Cooking basics for dummies', 'Bryan Miller và Marie Rama', '10.99', 'Learn to master grilling, slow cooking, baking, roasting, saute ing, and more. Make tasty, affordable meals the whole family will enjoy. Prepare a complete holiday or party menu', 0, 0, 39), (45, 'https://covers.openlibrary.org/b/id/15968-L.jpg', 'How to cook everything', 'Mark Bittman', '15.97', 'From Wikipedia: How To Cook Everything (John Wiley & Sons, 1998, ISBN 0-02-861010-5) is a general cooking reference written by New York Times food writer Mark Bittman and aimed at United States home cooks. It is the flagship volume of a series of books th', 0, 0, 34), (46, 'https://covers.openlibrary.org/b/id/12860393-L.jpg', 'Paradise Lost', 'John Milton', '9.99', "John Milton's Paradise Lost is one of the greatest epic poems in the English language. It tells the story of the Fall of Man, a tale of immense drama and excitement, of rebellion and treachery, of innocence pitted against corruption, in which God and Sata", 0, 0, 7), (47, 'https://covers.openlibrary.org/b/id/6814344-L.jpg', "The pilgrim's progress from this world to that which is to come", 'Bryan Miller và Marie Rama', '10.99', "Bunyan's allegory uses the everyday world of common experience as a metaphor for the spiritual journey of the soul toward God. The hero, Christian, encounters many obstacles in his quest: the Valley of the Shadow of Death, Vanity Fair, Doubting Castle, th", 0, 0, 10), (48, 'https://covers.openlibrary.org/b/id/9443269-L.jpg', 'St. Francis of Assisi', 'Gilbert Keith Chesterton', '12.87', 'G.K. Chesterton lends his witty, astute and sardonic prose to the much loved figure of Saint Francis of Assis. Grounding the man behind the myth he states "however wild and romantic his gyrations might appear to many, [Francis] always hung on to reason by', 0, 0, 13)]
mycursor.executemany(sql, val)
sql = "INSERT INTO book_categories (book_id, category_id) VALUES (%s, %s)"
val = [(1, 1), (2, 1), (3, 1), (4, 2), (5, 2), (6, 2), (7, 3), (8, 3), (9, 3), (10, 4), (11, 4), (12, 4), (13, 5), (14, 5), (15, 5), (16, 6), (17, 6), (18, 6), (19, 7), (20, 7), (21, 7), (22, 8), (23, 8), (24, 8), (25, 9), (26, 9), (27, 9), (28, 10), (29, 10), (30, 10), (31, 11), (32, 11), (33, 11), (34, 12), (35, 12), (36, 12), (37, 13), (38, 13), (39, 13), (40, 14), (41, 14), (42, 14), (43, 15), (44, 15), (45, 15), (46, 16), (47, 16), (48, 16), (2, 3), (1, 3), (4, 3), (5, 3), (6, 3), (16, 7), (17, 7), (17, 8), (18, 7), (22, 7), (23, 7), (24, 7), (25, 7), (26, 7), (33, 12), (31, 13), (37, 7), (38, 3), (42, 13), (46, 7)]
mycursor.executemany(sql, val)
mydb.commit()